<fd:RevealWindow x:Class="FileExplorer.Views.MainWindow"
								 xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
								 xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
								 xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
								 xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
								 xmlns:local="clr-namespace:FileExplorer.Views"
								 xmlns:converter="clr-namespace:FileExplorer.Views.Converters"
								 xmlns:model="clr-namespace:FileExplorer.Models"
								 xmlns:vm="clr-namespace:FileExplorer.ViewModels"
								 xmlns:fd="clr-namespace:Cyc.FluentDesign;assembly=Cyc.FluentDesign"
								 xmlns:fa="http://schemas.fontawesome.io/icons/"
								 xmlns:sys="clr-namespace:System;assembly=mscorlib"
								 xmlns:cycConverter="clr-namespace:Cyc.Mvvm.Converters;assembly=Cyc.Mvvm"
								 mc:Ignorable="d"
								 d:DataContext="{d:DesignInstance Type=vm:MainWindowViewModel, IsDesignTimeCreatable=True}"
								 Icon="/FileExplorer;component/Resources/Computer.ico"
								 Title="MainWindow"
								 Height="450"
								 Width="800">

	<DockPanel>
		<DockPanel DockPanel.Dock="Top">
			<DockPanel.Resources>
				<sys:Double x:Key="ButtonWidth">32</sys:Double>
				<Style TargetType="Button">
					<Setter Property="Width"
									Value="{StaticResource ButtonWidth}" />
					<Setter Property="Height"
									Value="{Binding RelativeSource={RelativeSource Mode=Self}, Path=Width}" />
				</Style>
				<Style TargetType="fa:ImageAwesome">
					<Setter Property="Width"
									Value="20" />
					<Setter Property="Height"
									Value="{Binding RelativeSource={RelativeSource Mode=Self}, Path=Width}" />
				</Style>
			</DockPanel.Resources>
			<StackPanel Orientation="Horizontal"
									DockPanel.Dock="Left"
									Background="White">
				<Grid>
					<ComboBox Name="NavigationComboBox"
										Width="{Binding Source={StaticResource ButtonWidth}, Converter={cycConverter:MathConverter}, ConverterParameter=x*2+18}"
										IsEditable="False"
										ItemsSource="{Binding NavigationHistroy}"
										SelectedItem="{Binding CurrentContent, Mode=OneWay}">
						<ComboBox.ItemTemplate>
							<DataTemplate>
								<TextBlock Text="{Binding .,Converter={converter:NavigationHistroyConverter}}" />
							</DataTemplate>
						</ComboBox.ItemTemplate>
						<ComboBox.ItemContainerStyle>
							<Style TargetType="ComboBoxItem">
								<EventSetter Event="Selected"
														 Handler="HistoryItem_Selected" />
							</Style>
						</ComboBox.ItemContainerStyle>
					</ComboBox>
					<StackPanel Orientation="Horizontal"
											Visibility="Visible">
						<Button Command="{Binding GoBackCommand}">
							<fa:ImageAwesome Icon="ArrowLeft" />
						</Button>
						<Button Command="{Binding GoForwardCommand}">
							<fa:ImageAwesome Icon="ArrowRight" />
						</Button>
					</StackPanel>
				</Grid>
				<Button Command="{Binding GoUpCommand}">
					<fa:ImageAwesome Icon="ArrowUp" />
				</Button>
				<Button Command="{Binding RefreshCommand}">
					<fa:ImageAwesome Icon="Refresh" />
				</Button>

			</StackPanel>
			<Border DockPanel.Dock="Right"
							BorderBrush="#FFABADB3"
							BorderThickness="1">
				<StackPanel Orientation="Horizontal">
					<fa:ImageAwesome Icon="Search"
													 Height="20"
													 Foreground="Gray"
													 Margin="3" />
					<Grid Width="200">
						<TextBox x:Name="searchTextBox"
										 BorderBrush="Transparent"
										 VerticalAlignment="Center"
										 VerticalContentAlignment="Center" />
						<TextBlock VerticalAlignment="Center"
											 Foreground="Gray"
											 Padding="3"
											 IsHitTestVisible="False">
							<TextBlock.Style>
								<Style TargetType="{x:Type TextBlock}">
									<Setter Property="Visibility"
													Value="Collapsed" />
									<Style.Triggers>
										<DataTrigger Binding="{Binding Text, ElementName=searchTextBox}"
																 Value="">
											<Setter Property="Visibility"
															Value="Visible" />
										</DataTrigger>
									</Style.Triggers>
								</Style>
							</TextBlock.Style><Run Text="Search in folder" /></TextBlock>
					</Grid>
				</StackPanel>
			</Border>
			<Button DockPanel.Dock="Right">
				<Image Source="{StaticResource shapes_solidDrawingImage}" 
							 Width="20"
							 Height="20"/>
			</Button>
			<Border Name="PathItemBorder"
							Grid.Column="1"
							BorderBrush="Black">
				<Grid>
					<ListBox Name="PathListBox"
									 ItemsSource="{Binding PathItems}"
									 Height="32"
									 MouseDown="PathListBox_MouseDown">
						<ListBox.ItemTemplate>
							<DataTemplate DataType="{x:Type model:Item}">
								<StackPanel Orientation="Horizontal">
									<TextBlock Text="{Binding Name}"
														 VerticalAlignment="Center"
														 Margin="3" />
								</StackPanel>
							</DataTemplate>
						</ListBox.ItemTemplate>
						<ListBox.ItemContainerStyle>
							<Style TargetType="ListBoxItem">
								<EventSetter Event="Selected"
														 Handler="PathItem_Selected" />
							</Style>
						</ListBox.ItemContainerStyle>
						<ListBox.ItemsPanel>
							<ItemsPanelTemplate>
								<StackPanel Orientation="Horizontal" />
							</ItemsPanelTemplate>
						</ListBox.ItemsPanel>
					</ListBox>
					<TextBox Name="PathTextBox"
									 Height="{Binding ElementName=PathListBox, Path=Height}"
									 Text="{Binding Path, Mode=OneWay}"
									 Visibility="Hidden"
									 KeyUp="PathTextBox_KeyUp" />
				</Grid>
			</Border>
		</DockPanel>
		<TreeView DockPanel.Dock="Left"
							ItemsSource="{Binding TreeItems}"
							Width="150">
			<TreeView.ItemTemplate>
				<HierarchicalDataTemplate DataType="{x:Type model:TreeFolderItem}"
																	ItemsSource="{Binding SubFolders}">
					<StackPanel Orientation="Horizontal">
						<Image Source="{Binding .,Converter={converter:IconConverter}}"
									 Width="18" />
						<TextBlock Text="{Binding Name}"
											 VerticalAlignment="Center"
											 Margin="3" />
					</StackPanel>
				</HierarchicalDataTemplate>
			</TreeView.ItemTemplate>
			<TreeView.ItemContainerStyle>
				<Style TargetType="TreeViewItem">
					<EventSetter Event="Selected"
											 Handler="TreeViewItem_Selected" />
					<EventSetter Event="Expanded"
											 Handler="TreeViewItem_Expanded" />
				</Style>
			</TreeView.ItemContainerStyle>
		</TreeView>
		<Frame Name="FolderFrame"
					 NavigationUIVisibility="Hidden" />
	</DockPanel>

</fd:RevealWindow>