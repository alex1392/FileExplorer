<Page x:Class="FileExplorer.Views.FolderPage"
			xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
			xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
			xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
			xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
			xmlns:local="clr-namespace:FileExplorer.Views"
			xmlns:converter="clr-namespace:FileExplorer.Converters"
			xmlns:model="clr-namespace:FileExplorer.Models"
			xmlns:vm="clr-namespace:FileExplorer.ViewModels"
			mc:Ignorable="d"
			d:DataContext="{d:DesignInstance Type=vm:FolderPageViewModel, IsDesignTimeCreatable=True}"
			d:DesignHeight="450"
			d:DesignWidth="800"
			Title="FolderPage">

	<DockPanel>
		<ListBox ItemsSource="{Binding PathItems}"
						 DockPanel.Dock="Top"
						 Height="32">
			<ListBox.ItemTemplate>
				<DataTemplate DataType="{x:Type model:Item}">
					<StackPanel Orientation="Horizontal">
						<TextBlock Text="{Binding Name}"
											 VerticalAlignment="Center"
											 Margin="3" />
					</StackPanel>
				</DataTemplate>
			</ListBox.ItemTemplate>
			<ListBox.ItemContainerStyle>
				<Style TargetType="ListBoxItem">
					<EventSetter Event="Selected"
											 Handler="ListBoxItem_Selected" />
				</Style>
			</ListBox.ItemContainerStyle>
			<ListBox.ItemsPanel>
				<ItemsPanelTemplate>
					<StackPanel Orientation="Horizontal" />
				</ItemsPanelTemplate>
			</ListBox.ItemsPanel>
		</ListBox>
		<ListView ItemsSource="{Binding ListItems}">
			<ListView.View>
				<GridView>
					<GridViewColumn Header="Name"
													Width="Auto">
						<GridViewColumn.CellTemplate>
							<DataTemplate DataType="{x:Type model:Item}">
								<StackPanel Orientation="Horizontal">
									<Image Source="{Binding .,Converter={converter:IconConverter}}"
												 Width="32" />
									<TextBlock Text="{Binding Name}"
														 VerticalAlignment="Center"
														 Margin="3" />
								</StackPanel>
							</DataTemplate>
						</GridViewColumn.CellTemplate>
					</GridViewColumn>
					<GridViewColumn Header="Date"
													Width="Auto"
													DisplayMemberBinding="{Binding LastModifiedTime, Converter={converter:TimeConverter}}" />
					<GridViewColumn Header="Type"
													Width="Auto"
													DisplayMemberBinding="{Binding ., Converter={converter:FileTypeConverter}}" />
					<GridViewColumn Header="Size"
													Width="100">
						<GridViewColumn.CellTemplate>
							<DataTemplate DataType="{x:Type model:ListFileItem}">
								<TextBlock Text="{Binding Size, Converter={converter:SizeConverter}}"
													 TextAlignment="Right" />
							</DataTemplate>
						</GridViewColumn.CellTemplate>
					</GridViewColumn>
				</GridView>
			</ListView.View>
			<ListView.ItemContainerStyle>
				<Style TargetType="ListViewItem">
					<EventSetter Event="Selected"
											 Handler="ListViewItem_Selected" />
					<Setter Property="HorizontalContentAlignment"
									Value="Stretch" />
				</Style>
			</ListView.ItemContainerStyle>
			<!--<ListView.ItemsPanel>
					<ItemsPanelTemplate>
						<WrapPanel />
					</ItemsPanelTemplate>
				</ListView.ItemsPanel>-->
		</ListView>
	</DockPanel>
</Page>
